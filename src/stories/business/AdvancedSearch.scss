.advanced-search {
  // 默认变量
  --form-item-min-width: 280px;
  --form-label-width: 80px;
  --form-spacing: var(--spacing-md);

  &__content {
    display: flex;
    flex-wrap: wrap;
    gap: var(--form-spacing);
  }

  &__items {
    display: flex;
    flex-wrap: wrap;
    gap: var(--form-spacing);
    width: 100%;

    .el-form-item {
      display: inline-flex;
      margin: 0;
      min-width: var(--form-item-min-width);
      flex: 1; // 允许伸展
      max-width: calc(33.33% - var(--form-spacing)); // 最大宽度为三分之一减去间距

      &__label {
        width: var(--form-label-width);
      }

      &__content {
        flex: 1;
        min-width: 0;

        .el-input,
        .el-select {
          width: 100%;
        }
      }
    }

    // 按钮组特殊处理
    .advanced-search__actions {
      display: flex;
      align-items: flex-start;
      gap: var(--spacing-xs);
      margin-left: auto;
      flex: 0 0 auto; // 按钮组不参与伸缩
      white-space: nowrap; // 防止按钮换行
    }
  }

  // 默认收起状态（大屏）
  &:not(.is-expanded) {
    .el-form-item:nth-child(n + 4) {
      display: none;
    }
  }

  // 响应式布局
  @media (max-width: 1200px) {
    &:not(.is-expanded) {
      .el-form-item:nth-child(n + 3) {
        display: none;
      }
    }

    .el-form-item {
      max-width: calc(50% - var(--form-spacing)) !important; // 最大宽度改为二分之一
    }
  }

  // 中等屏幕 - 一个输入框加按钮组
  @media (max-width: 840px) {
    &:not(.is-expanded) {
      .el-form-item:nth-child(n + 2) {
        display: none;
      }
    }

    .el-form-item {
      max-width: calc(100% - var(--form-spacing)) !important;
    }
  }

  // 小屏幕 - 按钮组左对齐
  @media (max-width: 576px) {
    &__items {
      .el-form-item {
        min-width: 100%;
        flex: 0 0 100%;
      }

      .advanced-search__actions {
        width: 100%;
        margin-left: var(--form-label-width);
        justify-content: flex-start;
      }
    }
  }
} 